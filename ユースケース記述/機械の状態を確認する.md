# ユースケース: 機械の状態を確認する

## 概要
管理者（担当者）が自動販売機の稼働状況、内部在庫、エラー状況、売上や釣銭残量などを現地または遠隔で点検・確認するまでの流れ。

## アクター
- 管理者

## 事前条件
- 管理者が自動販売機の確認権限を有している
- 確認に必要な機器（ICカード/認証キー/遠隔監視端末等）が準備されている

## 事後条件
- 機械状態が確認され、必要であれば点検・保守等の次の業務に情報提供される

## 基本フロー

| フローID | 内容 |
|:---:|:-----|
| BF-1 | 管理者は現地に赴く、または遠隔システムにログインして、指定の自動販売機を選択する。 |
| BF-2 | 現地の場合はドアロック解除や点検モードへの切替などの操作を行う。 |
| BF-3 | システムから最新の状態情報（稼働中/停止中、在庫数、売上、釣銭残量、エラーログ等）を一覧で表示・取得する。 |
| BF-4 | 管理者は画面・ログ・LEDランプ等を確認し、必要な情報（異常・不足・警報など）を点検票や管理端末に記録する。 |
| BF-5 | 必要に応じて現場で調整・補充・保守等の後続作業に着手する。 |

### 分岐
- 【BF-3】で状態取得に失敗（通信不可・端末故障等）の場合 → 例外フロー【EF-1】へ
- 【BF-4】で異常や複数の問題が検出された場合、関連するユースケース（故障対応、商品・釣銭補充など）へ遷移

## 例外フロー

| フローID | 内容 |
|:---:|:-----|
| EF-1-1 | システムまたは現地端末で状態情報が取得できない場合、管理者は通信再試行等を行う。 |
| EF-1-2 | 改善できない場合はメンテナンス担当や管理部門に報告し、必要に応じて再訪や機器交換等を手配する。 |

## 備考
- 遠隔監視システムにより複数台の状態を一括管理できる場合もある
- 状況確認後に、そのまま商品の補充・売上金回収・故障対応・釣銭補充等の保守作業に移行することが多い
- 状態確認には温度、ドア開閉状況、防犯センサー等の確認も含まれる場合がある

