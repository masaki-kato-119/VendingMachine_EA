# ユースケース: 釣銭を補充する

## 概要
管理者が自動販売機の釣銭装置へ必要な硬貨や紙幣を補充し、釣銭切れを防止する業務の流れ。

## アクター
- 管理者

## 事前条件
- 管理者が自動販売機の解錠権限を持っていること
- 補充用の硬貨および紙幣が準備されていること

## 事後条件
- 必要な釣銭が適切に補充され、釣銭残量・補充履歴などが記録される

## 基本フロー

| フローID | 内容 |
|:---:|:-----|
| BF-1 | 管理者は自動販売機の施錠を解除し、釣銭補充用ドアまたはカバーを開ける。 |
| BF-2 | システムは釣銭装置へのアクセスを許可し、現在の釣銭残量を表示する（システム自動表示または目視確認）。 |
| BF-3 | 管理者は不足する硬貨や紙幣をそれぞれの釣銭ユニットに適切な枚数補充する。 |
| BF-4 | 補充完了後、必要に応じて補充内容をシステムに入力・記録する（自動/手動選択可）。 |
| BF-5 | 管理者は釣銭装置の状態を点検し、補充用ドアを閉じて施錠する。 |
| BF-6 | システムまたは管理者は補充日時・担当者などの補充履歴を記録する。 |

### 分岐
- 【BF-3】で釣銭ユニットの故障や満杯、誤投入などが発生した場合→例外フロー【EF-1】へ
- 【BF-4】で補充内容の記録ミスや登録不能の場合→例外フロー【EF-2】へ

## 例外フロー

| フローID | 内容 |
|:---:|:-----|
| EF-1-1 | 釣銭ユニットの機械的な故障や満杯、誤投入が発生した場合、システムはエラー表示・アラートを発し、管理者へ通知。 |
| EF-1-2 | 管理者はそのユニットの補充を中断し、必要に応じてメンテナンス依頼、または報告を行い処理終了。 |

| フローID | 内容 |
|:---:|:-----|
| EF-2-1 | システムや帳票への補充内容入力や在庫登録に失敗した場合、再入力や異常記録を促す。 |
| EF-2-2 | 必要に応じて現地管理者や本部等へ連絡し、処理終了。 |

## 備考
- 釣銭補充は商品補充や売上金回収業務とあわせて実施することが多い。
- 補充後の動作確認（テスト払い出し等）を実施する運用もある。
- 機種によっては釣銭装置ごと交換する方式や補充量自動入力方式も存在する。

