# ユースケース: 商品を補充する

## 概要
管理者が自動販売機に新たな商品を補充し、補充内容や在庫状況をシステムに記録するまでの流れ。

## アクター
- 管理者

## 事前条件
- 管理者が自動販売機の解錠権限を持っていること
- 補充する商品が補充担当者に用意されていること

## 事後条件
- 商品が自動販売機に正しく補充され、在庫数・補充履歴などが記録される

## 基本フロー

| フローID | 内容 |
|:---:|:-----|
| BF-1 | 管理者は自動販売機の施錠を解除し、補充用ドアを開ける。 |
| BF-2 | システムは商品収納庫へのアクセスを許可し、在庫状況を表示する（在庫数表示など）。 |
| BF-3 | 管理者は各商品ごとに在庫補充が必要かを確認し、該当商品を補充する。 |
| BF-4 | 補充完了後、必要に応じてシステムに補充内容や在庫数を入力・登録する（自動検知/手動入力）。 |
| BF-5 | 管理者は商品収納庫の蓋を閉め、ドアを施錠する。 |
| BF-6 | システムまたは管理者は補充日時・担当者などの履歴を記録する。 |

### 分岐
- 【BF-3】で収納庫の故障やスペース不足（満杯）などが発生した場合→例外フロー【EF-1】へ
- 【BF-4】で補充情報の入力ミスや登録不能の場合→例外フロー【EF-2】へ

## 例外フロー

| フローID | 内容 |
|:---:|:-----|
| EF-1-1 | 商品収納庫の機械的な故障や満杯でこれ以上補充できない場合、システムはエラー表示またはアラートを発し、管理者へ通知。 |
| EF-1-2 | 管理者は当該商品について補充を中断し、処理終了またはメンテナンスを依頼。 |

| フローID | 内容 |
|:---:|:-----|
| EF-2-1 | システムへの補充内容入力や在庫登録に失敗した場合、再入力や異常記録を促す。|
| EF-2-2 | 必要に応じて管理者または本部へ連絡し、処理終了。|

## 備考
- 商品補充は一般的に売上金回収や釣銭補充と同時に行われることが多い。
- 在庫管理・補充履歴は機種により自動登録や手入力登録のいずれの場合もある。  
- 温度管理や賞味期限チェックが必要な商品についても適宜点検が行われる。

