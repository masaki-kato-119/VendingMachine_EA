# ユースケース: 故障対応を行う

## 概要
メンテナンス担当者が自動販売機の故障・障害報告を受け、現地または遠隔操作により点検・原因調査、必要な修理・復旧対応を実施する。

## アクター
- メンテナンス担当者

## 事前条件
- 故障や異常を示すアラートが利用者や監視システムから報告されている
- メンテナンス担当者が自動販売機の解錠・操作権限などを有している

## 事後条件
- 故障・障害が解決され、正常運用状態へ復旧し、対応内容・履歴が記録される

## 基本フロー

| フローID | 内容 |
|:---:|:-----|
| BF-1 | 故障・異常の通報または自動アラートをメンテナンス担当者が受信する。 |
| BF-2 | メンテナンス担当者は現地に赴くか、遠隔システムから該当自動販売機の状態を確認する。 |
| BF-3 | メンテナンス担当者はエラーランプやメッセージ、ログデータ等から故障箇所や不具合の内容を調査・特定する。 |
| BF-4 | 必要に応じて自動販売機を解錠し、内部の点検・テスト（部品交換、清掃、配線確認など）を実施する。 |
| BF-5 | 小修理（詰まり解除、リセット、ユニット交換など）を行い、不具合を解消する。 |
| BF-6 | システムや現場で動作確認テストを行い、正常稼働を確認する。 |
| BF-7 | 再発防止のための対応や消耗部品交換、必要に応じて故障原因・対応内容をシステムへ記録する。 |

### 分岐
- 【BF-3】で現場対応不能（重大故障・専用部品不足等）が判明した場合→例外フロー【EF-1】へ
- 【BF-5】【BF-6】で問題が解決しない場合→例外フロー【EF-2】へ

## 例外フロー

| フローID | 内容 |
|:---:|:-----|
| EF-1-1 | 専門技術や部品手配が必要な重大故障の場合、メンテナンス担当者は本部や専門業者に修理依頼を行う。 |
| EF-1-2 | 必要に応じて、一時的に販売停止措置・警告表示をセットする。 |

| フローID | 内容 |
|:---:|:-----|
| EF-2-1 | 現地での故障対応・小修理によっても復旧不可の場合、機器の交換や運用停止・再訪問手配など中長期対応に切り替える。 |
| EF-2-2 | 関連部署へ報告し、現場での安全確認を行う。 |

## 備考
- 故障原因や対応内容はシステムに履歴として残し、今後の予防保全に活用することがある
- 利用者から現金・商品等の未払い出しや損失があった場合は別途対応（返金・商品提供など）も同時進行となる
- 遠隔監視・リモートリセット対応が可能な機種では現場作業と組み合わせて運用される

